/* Author : havep at Fri Jul  4 09:15:48 2008
 * Generated by createNew
 */

#ifndef PETSCPRECCONFIGADDITIVESCHWARTZSERVICE_H
#define PETSCPRECCONFIGADDITIVESCHWARTZSERVICE_H

#include <alien/kernels/petsc/PETScPrecomp.h>
#include <alien/AlienExternalPackagesPrecomp.h>

#include <alien/kernels/petsc/linear_solver/IPETScPC.h>
#include <alien/kernels/petsc/linear_solver/IPETScKSP.h>
#include <alien/kernels/petsc/linear_solver/PETScConfig.h>

struct PETScPrecConfigAdditiveSchwarzOptionTypes
{
  enum eType
  {
    Basic,
    Restrict,
    Interpolate,
    None
  };
};

#include <ALIEN/axl/PETScPrecConfigAdditiveSchwarz_axl.h>

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

namespace Alien {

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

class ALIEN_EXTERNAL_PACKAGES_EXPORT PETScPrecConfigAdditiveSchwarzService
    : public ArcanePETScPrecConfigAdditiveSchwarzObject,
      public PETScConfig
{
 public:
/** Constructeur de la classe */
#ifdef ALIEN_USE_ARCANE
  PETScPrecConfigAdditiveSchwarzService(const Arcane::ServiceBuildInfo& sbi);
#endif

  PETScPrecConfigAdditiveSchwarzService(
      Arccore::MessagePassing::IMessagePassingMng* parallel_mng,
      std::shared_ptr<IOptionsPETScPrecConfigAdditiveSchwarz> options);

  /** Destructeur de la classe */
  virtual ~PETScPrecConfigAdditiveSchwarzService() {}

 public:
  //! Initialisation
  void configure(PC& pc, const ISpace& space, const MatrixDistribution& distribution);

  //! Check need of KSPSetUp before calling this PC configure
  virtual bool needPrematureKSPSetUp() const;
};

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

} // namespace Alien

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

#endif // PETSCPRECCONFIGADDITIVESCHWARTZSERVICE_H
