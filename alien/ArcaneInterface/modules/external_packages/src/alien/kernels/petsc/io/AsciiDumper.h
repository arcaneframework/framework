// -*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-
//-----------------------------------------------------------------------------
// Copyright 2000-2024 CEA (www.cea.fr) IFPEN (www.ifpenergiesnouvelles.com)
// See the top-level COPYRIGHT file for details.
// SPDX-License-Identifier: Apache-2.0
//-----------------------------------------------------------------------------
#ifndef ALIEN_KERNEL_PETSC_IO_ASCIIDUMPER_H
#define ALIEN_KERNEL_PETSC_IO_ASCIIDUMPER_H
/* Author : havep at Fri Sep 28 17:13:28 2012
 * Generated by createNew
 */

#include <alien/AlienExternalPackagesPrecomp.h>
#include <alien/utils/Precomp.h>

namespace Arccore {
class ITraceMng;
}

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

namespace Alien {

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

class IMatrix;
class IVector;

class MatrixExp;
class VectorExp;

class PETScMatrix;
class PETScVector;
/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

class ALIEN_EXTERNAL_PACKAGES_EXPORT AsciiDumper
{
 public:
  enum Style
  {
    eDefaultStyle,
    eMatlabStyle,
    eInfoStyle,
    eSequentialFixedBlockSizeStype,
    eSequentialVariableBlockSizeStype,
    eMatrixMarketStyle
  };

 public:
  AsciiDumper(const Style style = eDefaultStyle, Arccore::ITraceMng* trace = NULL);

  virtual ~AsciiDumper() {}

 public:
  //! Dump a matrix in a file
  void dump(const Arccore::String filename, const IMatrix& a);

  //! Dump a vector in a file
  void dump(const Arccore::String filename, const IVector& a);

  //! Dump a matrix in std output
  void dump(const IMatrix& a);

  //! Dump a vector in std output
  void dump(const IVector& v);

 private:
  void _blockDump(const IMatrix& a, std::ostream& str);
  void _vblockDump(const IMatrix& a, std::ostream& str);
  void _blockDump(const IVector& v, std::ostream& str);

 private:
  Style m_style;
  class Internal;
  Arccore::ITraceMng* m_trace;
};

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

} // namespace Alien

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

#endif /* ALIEN_KERNEL_PETSC_IO_ASCIIDUMPER_H */
